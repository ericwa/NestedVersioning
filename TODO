TODO
====

Store
-----

- GC unreachable revisions (aka history compacting)
- Merge all gc code into a single GC pass.
x Write binary serialization format
- Write COItem import/export using binary parser.
  \Per-item code must be pure C.


X Full-text search
- Other search
- Cache references

Performance problems:
- why does increasing the delta run length make performance worse?
- why does performance get linearly worse with more items even if we only modify one?
  - The test reads back all items from each commit, even when only one is modified.
    So

COItem
------

- Lazy deserialization. Upon creation from store, ivar is a NSData with the binary serialized form.
- Fix validation perf.
- COItemTree: fix performance problems

Types
-----

x remove bag / unique array types
- figure out where to put type names for primitives (<NSData> is org.etoile.bezier-path)

Schema
------

- 


COObject / COEditingContext
---------------------------

- Fix bugs and complete.

Undo/redo
---------
- Don't put in CO core.
- Write a undo manager that has 4 stacks per persistent root:
 - metadata undo, metadata redo, state undo (current branch, current commit), state redo 


Tests
-----

- port all...